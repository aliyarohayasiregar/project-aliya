<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<title></title>
<link rel="stylesheet" href="../assets/style.css">
</head>
<body>
<div class="login-box">
<h1>Login</h1>
<div class="textbox">
<i class="fas fa-user"></i>
<form action="" name="login">
  <input type="text" placeholder="Username" name="username">
</div>
<div class="textbox">
<i class="fas fa-lock"></i>
<input type="password" placeholder="Password" name="password">
</div>
<button>login</button>
</div>
</form>
</html>
    <script>
      document.login.onsubmit = (e) => {
        e.preventDefault();
        const username = document.login.username.value;
        const password = document.login.password.value;
        fetch("/api/login/admin", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            username,
            password,
          }),
        }).then(async (response) => {
          if (response.ok) {
            location.href = "/hal-admin";
          } else {
            const message = await response.text();
            alert(message);
          }
        });
      };

    </script>
  </body>
</html>
